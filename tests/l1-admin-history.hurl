# ============================================
# L1: Admin History ç«¯ç‚¹æµ‹è¯•
# ============================================
# ç«¯ç‚¹: GET /api/admin/history
# åŠŸèƒ½: è·å– Drill ç”Ÿæˆå†å²è®°å½• (Redis)
# ç”¨é€”: Admin Dashboard è°ƒè¯•é¢æ¿
#
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# ğŸ“‹ è§„æ ¼å®šä¹‰ (Specification)
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# Input (Query Params):
#   ?limit=50                 // å¯é€‰ï¼Œé»˜è®¤ 50
#   ?offset=0                 // å¯é€‰ï¼Œåˆ†é¡µåç§»
#
# Output (JSON Schema):
#   {
#     "success": boolean,
#     "items": [
#       {
#         "id": string,       // Redis Key
#         "vocabId": number,
#         "word": string,
#         "mode": string,     // "SYNTAX" | "PHRASE" | "BLITZ"
#         "createdAt": string // ISO æ—¶é—´æˆ³
#       }
#     ],
#     "total": number         // æ€»è®°å½•æ•°
#   }
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

# ============================================
# Test 1: è·å–å†å²è®°å½• (Happy Path)
# ============================================
GET {{BASE_URL}}/api/admin/history

HTTP 200
[Captures]
item_count: jsonpath "$.items" count
[Asserts]
# 1. Schema éªŒè¯
jsonpath "$.success" isBoolean
jsonpath "$.items" isCollection

# 2. ä¸šåŠ¡é€»è¾‘éªŒè¯
jsonpath "$.success" == true

# ============================================
# Test 2: å¸¦åˆ†é¡µå‚æ•°
# ============================================
GET {{BASE_URL}}/api/admin/history?limit=10&offset=0

HTTP 200
[Asserts]
jsonpath "$.success" == true
jsonpath "$.items" isCollection
