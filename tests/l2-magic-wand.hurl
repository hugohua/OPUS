# ============================================
# L2: Magic Wand æŸ¥è¯ API æµ‹è¯•
# ============================================
# ç«¯ç‚¹: GET /api/wand/word
# åŠŸèƒ½: å³æ—¶æŸ¥è¯ (Cache-First: æœ¬åœ°è¯æº + å¼‚æ­¥ AI è§£æ)
# å®‰å…¨: éœ€è¦è®¤è¯ (session cookie)
#
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# ğŸ“‹ è§„æ ¼å®šä¹‰ (Specification)
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# Input (Query Params):
#   word: string           // å¿…å¡«: æŸ¥è¯¢çš„å•è¯ (e.g., "strategy")
#   context_id: string?    // å¯é€‰: ä¸Šä¸‹æ–‡ ID (ç”¨äº AI è¯­å¢ƒè§£æ)
#
# Output (JSON):
#   {
#     "vocab": {
#       "phonetic": string,
#       "meaning": string
#     },
#     "etymology": {
#       "mode": "ROOTS" | "DERIVATIVE" | "ASSOCIATION" | "NONE",
#       "memory_hook": string,
#       "data": object
#     } | null,
#     "ai_insight": null  // å‰ç«¯é€šè¿‡ SSE å¼‚æ­¥è·å–
#   }
#
# Error Response:
#   401: Unauthorized (æ— è®¤è¯)
#   404: { "error": "Word not found" }
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

# ============================================
# Test 1: æ— è®¤è¯è®¿é—®åº”è¿”å› 401
# ============================================
GET {{BASE_URL}}/api/wand/word?word=strategy

HTTP 401

# ============================================
# Test 2: åŸºç¡€æŸ¥è¯¢ (Cache-First)
# ============================================
# æ³¨æ„: æ­¤æµ‹è¯•éœ€è¦æ‰‹åŠ¨é…ç½® session cookie
#       å–æ¶ˆæ³¨é‡Šå¹¶å¡«å…¥æœ‰æ•ˆ token åè¿è¡Œ
#
# GET {{BASE_URL}}/api/wand/word?word=strategy
# Cookie: next-auth.session-token={{SESSION_TOKEN}}
#
# HTTP 200
# [Asserts]
# jsonpath "$.vocab" exists
# jsonpath "$.vocab.phonetic" exists
# jsonpath "$.etymology" exists
# jsonpath "$.ai_insight" == null

# ============================================
# Test 3: å¸¦ä¸Šä¸‹æ–‡æŸ¥è¯¢
# ============================================
# GET {{BASE_URL}}/api/wand/word?word=forecast&context_id=article_123
# Cookie: next-auth.session-token={{SESSION_TOKEN}}
#
# HTTP 200
# [Asserts]
# jsonpath "$.vocab" exists
# jsonpath "$.etymology" exists

# ============================================
# Test 4: ä¸å­˜åœ¨çš„å•è¯åº”è¿”å› 404
# ============================================
# GET {{BASE_URL}}/api/wand/word?word=nonexistentword12345
# Cookie: next-auth.session-token={{SESSION_TOKEN}}
#
# HTTP 404
